tArgs = {...}
startingLevel = tArgs[1]
bottomLevel = tArgs[2]
placeWater = true
waterBucket = turtle.getItemDetail(16)

running = true
currentLevel = startingLevel
goingDown = true

if not tArgs[1] then
	term.clear()
	term.setCursorPos(1,1)
	print("usage: cmd <current y> <(desired y)>")
	print("Place turtle facing")
	if placeWater then print("  Place bucket of water in slot 16.")
	running = false
end

if placeWater and waterBucket.name ~= "minecraft:waterbucket" then
	term.clear()
	term.setCursorPos(1,1)
	print("Please place a bucket of water in slot 16")
	running = false
end

while running do
	
	turtle.dig()
	if currentLevel ~= bottomLevel and goingDown then
		turtle.dig()
		local goDown = turtle.down()
		if not goDown then
			turtle.attackDown()
			turtle.digDown()
		else
			currentLevel = currentLevel - 1
		end
	elseif currentLevel == bottomLevel then
		goingDown = false
		local safetyCount = 0
		local failSafeCount = 16
		while turtle.dig() and safetyCount < failSafeCount do
			turtle.dig()
			safetyCount = safetyCount + 1
		end
		turtle.up()
		currentLevel = currentLevel + 1
		turtle.select(16)
		turtle.placeDown()
	elseif not goingDown and currentLevel ~= startingLevel then
		turtle.up()
		currentLevel = currentLevel + 1
	elseif notgoingDown and currentLevel == startingLevel then
		print("I'm back!")
		running = false
		return
	end

end